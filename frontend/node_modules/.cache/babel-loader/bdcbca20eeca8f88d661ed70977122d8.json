{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prabh\\\\my-fullstack-app\\\\frontend\\\\src\\\\App.js\";\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport CartContext from './context/CartContext';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails';\nimport Cart from './components/Cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cartList: [],\n      apiStatus: apiStatusConstants.inProgress,\n      productsList: []\n    };\n    this.getProductsData = async () => {\n      const url = 'http://localhost:3000/products'; // Backend endpoint for products\n      const jwtToken = localStorage.getItem('jwt_token'); // Retrieve JWT token from localStorage\n      console.log('p' + jwtToken);\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      try {\n        const response = await fetch(url, options);\n        if (response.ok) {\n          const data = await response.json();\n          console.log(data);\n          const formattedData = data.map(product => ({\n            title: product.title,\n            brand: product.brand,\n            description: product.description,\n            imageUrl: product.imageUrl,\n            id: product.id,\n            quantity: product.quantity,\n            category: product.category,\n            price: product.price,\n            rating: product.rating\n          }));\n          console.log(formattedData);\n          this.setState({\n            productsList: formattedData,\n            apiStatus: apiStatusConstants.success\n          });\n        } else {\n          this.setState({\n            apiStatus: apiStatusConstants.failure\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n    this.removeCartItem = id => {\n      const {\n        cartList\n      } = this.state;\n      const newList = cartList.filter(i => i.id !== id);\n      this.setState({\n        cartList: [...newList]\n      });\n    };\n    this.removeAllCartItems = () => {\n      this.setState({\n        cartList: []\n      });\n    };\n    this.addCartItem = product => {\n      this.setState(prevState => ({\n        cartList: [...prevState.cartList, product]\n      }));\n    };\n    this.incrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      console.log(cartItemDetails);\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity + 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n    this.decrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity - 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n  }\n  componentDidMount() {\n    this.getProductsData();\n  }\n  render() {\n    const {\n      cartList,\n      productsList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        cartList,\n        productsList,\n        addCartItem: this.addCartItem,\n        removeCartItem: this.removeCartItem,\n        removeAllCartItems: this.removeAllCartItems,\n        incrementCartItemQuantity: this.incrementCartItemQuantity,\n        decrementCartItemQuantity: this.decrementCartItemQuantity\n      },\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/products\",\n          component: Products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/products/:id\",\n          component: ProductDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/cart\",\n          component: Cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/not-found\",\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"not-found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Route","Switch","Redirect","CartContext","Home","Login","Products","ProductDetails","Cart","jsxDEV","_jsxDEV","App","Component","constructor","args","state","cartList","apiStatus","apiStatusConstants","inProgress","productsList","getProductsData","url","jwtToken","localStorage","getItem","console","log","options","headers","Authorization","method","response","fetch","ok","data","json","formattedData","map","product","title","brand","description","imageUrl","id","quantity","category","price","rating","setState","success","failure","error","removeCartItem","newList","filter","i","removeAllCartItems","addCartItem","prevState","incrementCartItemQuantity","cartItemDetails","updatedList","j","decrementCartItemQuantity","componentDidMount","render","Provider","value","children","exact","path","component","fileName","_jsxFileName","lineNumber","columnNumber","NotFound","to"],"sources":["C:/Users/prabh/my-fullstack-app/frontend/src/App.js"],"sourcesContent":["\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport CartContext from './context/CartContext';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails';\nimport Cart from './components/Cart';\n\n\n\n\nclass App extends Component {\n  state = {\n    cartList: [],\n    apiStatus: apiStatusConstants.inProgress,\n    productsList: [],\n  };\n\n  componentDidMount() {\n    this.getProductsData();\n  }\n\n  getProductsData = async () => {\n    const url = 'http://localhost:3000/products'; // Backend endpoint for products\n    const jwtToken = localStorage.getItem('jwt_token'); // Retrieve JWT token from localStorage\n    console.log('p' + jwtToken);\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    };\n\n    try {\n      const response = await fetch(url, options);\n      if (response.ok) {\n        const data = await response.json();\n        console.log(data);\n        const formattedData = data.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          description: product.description,\n          imageUrl: product.imageUrl,\n          id: product.id,\n          quantity: product.quantity,\n          category: product.category,\n          price: product.price,\n          rating: product.rating,\n        }));\n        console.log(formattedData);\n        this.setState({\n          productsList: formattedData,\n          apiStatus: apiStatusConstants.success,\n        });\n      } else {\n        this.setState({ apiStatus: apiStatusConstants.failure });\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      this.setState({ apiStatus: apiStatusConstants.failure });\n    }\n  };\n\n  removeCartItem = id => {\n    const { cartList } = this.state;\n    const newList = cartList.filter(i => i.id !== id);\n\n    this.setState({ cartList: [...newList] });\n  };\n\n  removeAllCartItems = () => {\n    this.setState({ cartList: [] });\n  };\n\n  addCartItem = product => {\n    this.setState(prevState => ({ cartList: [...prevState.cartList, product] }));\n  };\n\n  incrementCartItemQuantity = cartItemDetails => {\n    const { cartList } = this.state;\n    const { id, quantity, brand, title, price, imageUrl } = cartItemDetails;\n    console.log(cartItemDetails);\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity + 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        };\n      }\n      return j;\n    });\n\n    this.setState({ cartList: [...updatedList] });\n  };\n\n  decrementCartItemQuantity = cartItemDetails => {\n    const { cartList } = this.state;\n    const { id, quantity, brand, title, price, imageUrl } = cartItemDetails;\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity - 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        };\n      }\n      return j;\n    });\n\n    this.setState({ cartList: [...updatedList] });\n  };\n\n  render() {\n    const { cartList, productsList } = this.state;\n\n    return (\n      <CartContext.Provider\n        value={{\n          cartList,\n          productsList,\n          addCartItem: this.addCartItem,\n          removeCartItem: this.removeCartItem,\n          removeAllCartItems: this.removeAllCartItems,\n          incrementCartItemQuantity: this.incrementCartItemQuantity,\n          decrementCartItemQuantity: this.decrementCartItemQuantity,\n        }}\n      >\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/products\" component={Products} />\n          <Route exact path=\"/products/:id\" component={ProductDetails} />\n          <Route exact path=\"/cart\" component={Cart} />\n          <Route path=\"/not-found\" component={NotFound} />\n          <Redirect to=\"not-found\" />\n        </Switch>\n      </CartContext.Provider>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}