{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prabh\\\\my-fullstack-app\\\\frontend\\\\src\\\\App.js\";\nimport { Route, Switch } from 'react-router-dom';\nimport { Component } from 'react';\nimport CartContext from './context/CartContext';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails';\nimport Cart from './components/Cart';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cartList: []\n    };\n    this.getCartList = async id => {\n      const url = `http://localhost:3000/userdetails/${id}`; // Backend endpoint for products\n      const jwtToken = localStorage.getItem('jwt_token'); // Retrieve JWT token from localStorage\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const request = await fetch(url, options);\n      const response = await request.json();\n      const cartList = response[0].cartList;\n      const formattedData = cartList.map(product => ({\n        title: product.title,\n        imageUrl: product.imageUrl,\n        id: product.id\n      }));\n      this.setState({\n        cartList: formattedData\n      });\n    };\n    this.removeCartItem = id => {\n      const {\n        cartList\n      } = this.state;\n      const newList = cartList.filter(i => i.id !== id);\n      this.setState({\n        cartList: [...newList]\n      });\n    };\n    this.removeAllCartItems = () => {\n      this.setState({\n        cartList: []\n      });\n    };\n    this.addCartItem = product => {\n      const {\n        cartList\n      } = this.state;\n      const existingProduct = cartList.find(i => i.id === product.id);\n      if (!existingProduct) {\n        this.setState(prevState => ({\n          cartList: [...prevState.cartList, product]\n        }));\n      }\n    };\n    this.incrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      console.log(cartItemDetails);\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity + 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n    this.decrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity - 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n  }\n  componentDidMount() {\n    getCartList();\n  }\n  render() {\n    const {\n      cartList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        cartList,\n        getCartList: this.getCartList,\n        addCartItem: this.addCartItem,\n        removeCartItem: this.removeCartItem,\n        removeAllCartItems: this.removeAllCartItems,\n        incrementCartItemQuantity: this.incrementCartItemQuantity,\n        decrementCartItemQuantity: this.decrementCartItemQuantity\n      },\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/products\",\n          component: Products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/product/:id\",\n          component: ProductDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/cart\",\n          component: Cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Route","Switch","Component","CartContext","Home","Login","Products","ProductDetails","Cart","ProtectedRoute","jsxDEV","_jsxDEV","App","constructor","args","state","cartList","getCartList","id","url","jwtToken","localStorage","getItem","options","headers","Authorization","method","request","fetch","response","json","formattedData","map","product","title","imageUrl","setState","removeCartItem","newList","filter","i","removeAllCartItems","addCartItem","existingProduct","find","prevState","incrementCartItemQuantity","cartItemDetails","quantity","brand","price","console","log","updatedList","j","decrementCartItemQuantity","componentDidMount","render","Provider","value","children","exact","path","component","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/prabh/my-fullstack-app/frontend/src/App.js"],"sourcesContent":["\nimport { Route, Switch} from 'react-router-dom';\nimport { Component } from 'react';\nimport CartContext from './context/CartContext';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails';\nimport Cart from './components/Cart';\nimport ProtectedRoute from './components/ProtectedRoute';\n\n\nclass App extends Component {\n  state = {\n    cartList: [],\n  };\n  componentDidMount() {\n    getCartList();\n  }\n\n  getCartList = async (id) => {\n    const url = `http://localhost:3000/userdetails/${id}`; // Backend endpoint for products\n    const jwtToken = localStorage.getItem('jwt_token'); // Retrieve JWT token from localStorage\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    };\n\n    const request=await fetch(url, options);\n    const response=await request.json();\n    const cartList = response[0].cartList;\n    const formattedData = cartList.map(product => ({\n      title: product.title,\n      imageUrl: product.imageUrl,\n      \n      id: product.id,\n    }));\n    this.setState({\n      cartList: formattedData,\n    });\n\n  }\n\n  removeCartItem = id => {\n    const { cartList } = this.state;\n    const newList = cartList.filter(i => i.id !== id);\n\n    this.setState({ cartList: [...newList] });\n  };\n\n  removeAllCartItems = () => {\n    this.setState({ cartList: [] });\n  };\n\n  addCartItem = product => {\n    const { cartList } = this.state;\n    const existingProduct = cartList.find(i => i.id === product.id);\n    if (!existingProduct) {\n      this.setState(prevState => ({ cartList: [...prevState.cartList, product] }));\n    }\n  };\n\n  incrementCartItemQuantity = cartItemDetails => {\n    const { cartList } = this.state;\n    const { id, quantity, brand, title, price, imageUrl } = cartItemDetails;\n    console.log(cartItemDetails);\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity + 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        };\n      }\n      return j;\n    });\n\n    this.setState({ cartList: [...updatedList] });\n  };\n\n  decrementCartItemQuantity = cartItemDetails => {\n    const { cartList } = this.state;\n    const { id, quantity, brand, title, price, imageUrl } = cartItemDetails;\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity - 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        };\n      }\n      return j;\n    });\n\n    this.setState({ cartList: [...updatedList] });\n  };\n\n  render() {\n    const { cartList} = this.state;\n\n    return (\n      <CartContext.Provider\n        value={{\n          cartList,\n          getCartList: this.getCartList,\n          addCartItem: this.addCartItem,\n          removeCartItem: this.removeCartItem,\n          removeAllCartItems: this.removeAllCartItems,\n          incrementCartItemQuantity: this.incrementCartItemQuantity,\n          decrementCartItemQuantity: this.decrementCartItemQuantity,\n        }}\n      >\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/\" component={Home} />\n          <ProtectedRoute exact path=\"/products\" component={Products} />\n          <ProtectedRoute exact path=\"/product/:id\" component={ProductDetails} />\n          <ProtectedRoute exact path=\"/cart\" component={Cart} />\n        </Switch>\n      </CartContext.Provider>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}