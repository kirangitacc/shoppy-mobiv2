{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prabh\\\\my-fullstack-app\\\\frontend\\\\src\\\\App.js\";\nimport CartContext from './context/CartContext';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails';\nimport Cart from './components/Cart';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cartList: [],\n      apiStatus: apiStatusConstants.inProgress,\n      productsList: []\n    };\n    this.getProductsData = async () => {\n      const url = 'http://localhost:3000/products'; // Backend endpoint for products\n      const jwtToken = localStorage.getItem('jwt_token');\n      console.log('p' + jwtToken); // Retrieve JWT token from localStorage\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      try {\n        const response = await fetch(url, options);\n        if (response.ok) {\n          const data = await response.json();\n          console.log(data);\n          const formattedData = data.map(product => ({\n            title: product.title,\n            brand: product.brand,\n            description: product.description,\n            imageUrl: product.imageUrl,\n            id: product.id,\n            quantity: product.quantity,\n            category: product.category,\n            price: product.price,\n            rating: product.rating\n          }));\n          console.log(formattedData);\n          this.setState({\n            productsList: formattedData,\n            apiStatus: apiStatusConstants.success\n          });\n        } else {\n          this.setState({\n            apiStatus: apiStatusConstants.failure\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n    this.removeCartItem = id => {\n      const {\n        cartList\n      } = this.state;\n      const newList = cartList.filter(i => i.id !== id);\n      this.setState({\n        cartList: [...newList]\n      });\n    };\n    this.removeAllCartItems = () => {\n      this.setState({\n        cartList: []\n      });\n    };\n    this.addCartItem = product => {\n      this.setState(prevState => ({\n        cartList: [...prevState.cartList, product]\n      }));\n    };\n    this.incrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      console.log(cartItemDetails);\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity + 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n    this.decrementCartItemQuantity = cartItemDetails => {\n      const {\n        cartList\n      } = this.state;\n      const {\n        id,\n        quantity,\n        brand,\n        title,\n        price,\n        imageUrl\n      } = cartItemDetails;\n      const updatedList = cartList.map(j => {\n        if (j.id === id) {\n          return {\n            id,\n            quantity: quantity - 1,\n            brand,\n            title,\n            price,\n            imageUrl\n          };\n        }\n        return j;\n      });\n      this.setState({\n        cartList: [...updatedList]\n      });\n    };\n  }\n  componentDidMount() {\n    this.getProductsData();\n  }\n  render() {\n    const {\n      cartList,\n      productsList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        cartList,\n        productsList,\n        addCartItem: this.addCartItem,\n        removeCartItem: this.removeCartItem,\n        removeAllCartItems: this.removeAllCartItems,\n        incrementCartItemQuantity: this.incrementCartItemQuantity,\n        decrementCartItemQuantity: this.decrementCartItemQuantity\n      },\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/products\",\n          component: Products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/products/:id\",\n          component: ProductDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/cart\",\n          component: Cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/not-found\",\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"not-found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["CartContext","Home","Login","Products","ProductDetails","Cart","ProtectedRoute","jsxDEV","_jsxDEV","apiStatusConstants","success","failure","inProgress","App","Component","constructor","args","state","cartList","apiStatus","productsList","getProductsData","url","jwtToken","localStorage","getItem","console","log","options","headers","Authorization","method","response","fetch","ok","data","json","formattedData","map","product","title","brand","description","imageUrl","id","quantity","category","price","rating","setState","error","removeCartItem","newList","filter","i","removeAllCartItems","addCartItem","prevState","incrementCartItemQuantity","cartItemDetails","updatedList","j","decrementCartItemQuantity","componentDidMount","render","Provider","value","children","Switch","Route","exact","path","component","fileName","_jsxFileName","lineNumber","columnNumber","NotFound","Redirect","to"],"sources":["C:/Users/prabh/my-fullstack-app/frontend/src/App.js"],"sourcesContent":["\n\nimport CartContext from './context/CartContext'\nimport Home from './components/Home'\nimport Login from './components/Login'\nimport Products from './components/Products'\nimport ProductDetails from './components/ProductDetails'\nimport Cart from './components/Cart'\nimport ProtectedRoute from './components/ProtectedRoute';\n\n\nconst apiStatusConstants = {\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass App extends Component {\n  state = {\n    cartList: [],\n    apiStatus: apiStatusConstants.inProgress,\n    productsList: [],\n  }\n\n  componentDidMount() {\n    this.getProductsData()\n  }\n\n  getProductsData = async () => {\n    const url = 'http://localhost:3000/products' // Backend endpoint for products\n    const jwtToken = localStorage.getItem('jwt_token') \n    console.log('p'+jwtToken)// Retrieve JWT token from localStorage\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    }\n\n    try {\n      const response = await fetch(url, options)\n      if (response.ok) {\n        const data = await response.json()\n        console.log(data)\n        const formattedData = data.map(product => ({\n          title: product.title, \n          brand: product.brand,\n          description: product.description, \n          imageUrl: product.imageUrl,\n          id: product.id,\n          quantity: product.quantity,\n          category: product.category, \n          price: product.price,\n          rating: product.rating,\n        }));\n        console.log(formattedData)\n        this.setState({\n          productsList: formattedData,\n          apiStatus: apiStatusConstants.success,\n        })\n      } else {\n        this.setState({apiStatus: apiStatusConstants.failure})\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error)\n      this.setState({apiStatus: apiStatusConstants.failure})\n    }\n  }\n\n  removeCartItem = id => {\n    const {cartList} = this.state\n    const newList = cartList.filter(i => i.id !== id)\n\n    this.setState({cartList: [...newList]})\n  }\n\n  removeAllCartItems = () => {\n    this.setState({cartList: []})\n  }\n\n  addCartItem = product => {\n    this.setState(prevState => ({cartList: [...prevState.cartList, product]}))\n  }\n\n  incrementCartItemQuantity = cartItemDetails => {\n    const {cartList} = this.state\n    const {id, quantity, brand, title, price, imageUrl} = cartItemDetails\n    console.log(cartItemDetails)\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity + 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        }\n      }\n      return j\n    })\n\n    this.setState({cartList: [...updatedList]})\n  }\n\n  decrementCartItemQuantity = cartItemDetails => {\n    const {cartList} = this.state\n    const {id, quantity, brand, title, price, imageUrl} = cartItemDetails\n    const updatedList = cartList.map(j => {\n      if (j.id === id) {\n        return {\n          id,\n          quantity: quantity - 1,\n          brand,\n          title,\n          price,\n          imageUrl,\n        }\n      }\n      return j\n    })\n\n    this.setState({cartList: [...updatedList]})\n  }\n\n  render() {\n    const {cartList,productsList} = this.state\n\n    return (\n      <CartContext.Provider\n        value={{\n          cartList,\n          productsList,\n          addCartItem: this.addCartItem,\n          removeCartItem: this.removeCartItem,\n          removeAllCartItems: this.removeAllCartItems,\n          incrementCartItemQuantity: this.incrementCartItemQuantity,\n          decrementCartItemQuantity: this.decrementCartItemQuantity,\n        }}\n      >\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <ProtectedRoute exact path=\"/\" component={Home} />\n          <ProtectedRoute exact path=\"/products\" component={Products} />\n          <ProtectedRoute\n            exact\n            path=\"/products/:id\"\n            component={ProductDetails}\n          />\n          <ProtectedRoute exact path=\"/cart\" component={Cart} />\n          <Route path=\"/not-found\" component={NotFound} />\n          <Redirect to=\"not-found\" />\n        </Switch>\n      </CartContext.Provider>\n    )\n  }\n}\n\nexport default App"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}